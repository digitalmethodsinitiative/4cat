{% extends "layout.html" %}

{% block title %}Configure available data sources{% endblock %}
{% block body_class %}plain-page frontpage admin {{ body_class }}{% endblock %}

{% block body %}
    <article class="small">
        <section>
            <h2><span>Configure available data sources</span></h2>
            <p>Data sources enabled below will be offered to people on the 'Create Dataset' page. If disabled here,
                datasets cannot be made via that data source directly, but may still be created in other ways such as
                changing the metadata of an uploaded dataset or by exporting data from
                <a href="https://github.com/digitalmethodsinitiative/zeeschuimer">Zeeschuimer</a> to this 4CAT
                instance.</p>

            <p>Some data sources offer further settings which may be configured in the
                <a href="{{ url_for('update_settings') }}">Settings panel</a>.</p>

            <form action="{{ url_for('toggle_datasources') }}" method="POST" class="wide">
                {% for notice in flashes %}
                    <p class="form-notice">{{ notice|safe }}</p>
                {% endfor %}

                {% for datasource, info in datasources.items() %}
                    <p>
                        <label>
                            <input type="checkbox" name="enable-{{ datasource }}"{% if info.enabled %} checked{% endif %}>
                            {{ info.name }}
                        </label>
                    </p>
                {% endfor %}
                <div class="submit-container">
                    <button>
                        <i class="fa fa-save" aria-hidden="true"></i> Save
                    </button>
                </div>
            </form>
        </section>
    </article>
{% endblock %}
